<!DOCTYPE html>
<html lang="en">
<head>
<%- include('../partials/head.ejs') %>
</head>
<body>
    <header>
        <%- include('../partials/header.ejs') %>
    </header>
    <div id="show-one" class="container center-align">
        <h2>
            <%=album.albumName%>
        </h2>

        <!-- Cover Image -->
        <div class="container">
            <div class="row">
                <div class="col m3"></div>
                    <div class="col s12 m6">
                        <div class="card no-scale img-container">
                                <div class="card-image">
                                    <img class="responsive-img" src=<%=album.coverImage%>>
                                </div>
                                <div class="overlay">
                                    <!-- Cover Image Description -->
                                    <p class="flow-text" style="margin: 3px 0; color: white; background-color: rgba(0, 0, 0, 0.6);font-size: 1rem; font-weight: 700;">
                                        <%=album.albumDescription%>
                                    </p>

                                    <div class="card-content grey lighten-2" style="padding: 5px 0 0 0">


                                        <!-- EDIT Cover Image -->
                                        <a class="edit-btn" href="/album/<%=album._id%>/edit" style="padding-top: 0;"">
                                            <input class="btn waves-light blue-grey darken-2" type="submit" value="EDIT IMAGE">
                                        </a>

                                        <!-- DELETE Cover Image -->
                                        <form class="delete-btn" action="/album/<%=album._id%>?_method=DELETE" method="POST" style="padding-top: 0;">
                                            <input class="btn waves-light blue-grey darken-2" type="submit" value="DELETE IMAGE">
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </div>  
                    </div>
                </div>
                <div class="col m3"></div>
            </div>
        </div>  

        <!-- CLICK BUTTON FOR FORM TO APPEAR -->
        <label id="toggle-btn" for="toggle-img-form" class="toggle btn-floating btn-small waves-effect waves-light blue-grey darken-4" style="display: block; text-align: left; margin-top: 10px;">
            <i class="material-icons">add</i>
        </label>
        <input type="checkbox" id="toggle-img-form" class="hide-input">

        <!-- Add Image To Album Form -->
        <div class="form-center" id="add-img-form">
            <form action="/album/<%=album._id%>/image" method="POST" class="col s12">
                <p style="margin: 0 0 10px 0; font-size: 1.5rem; font-weight: 600">
                    Add an Image
                </p>
                
                <div class="input-field">
                    <label>Name (max 20 char.)</label> 
                    <input type="text" maxlength="20" name="imageName" placeholder="Name">
                </div>

                <div class="input-field">
                    <label>Image URL (.jpg)</label>
                    <input type="text" name="imageURL" value=".jpg">
                </div>
                
                <input class="btn waves-light blue-grey darken-2" type="submit" value="Submit Image">
            </form>            
        </div>
    </div>
        <br/>

    <!-- //////////////////// -->
    <!-- /// IMAGES ARRAY /// -->
    <!-- //////////////////// -->
    <div class="container center-align">
        <div class="row">
            <% for(let i = 0; i < album.images.length; i++) { %>
                <a href="/album/<%=album._id%>/image/<%=album.images[i]._id%>">
                    <div class="col s12 m4">
                        <div class="card">
                            <div class="card-image">
                                <img src="<%=album.images[i].imageURL%>">   
                            </div>
                        </div>
                    </div>
                </a>
            <% } %>
        </div>
    </div>
</body>
</html>